[gd_scene load_steps=29 format=3 uid="uid://bwhwq1h3lamea"]

[ext_resource type="Script" path="res://Scripts/level_manager.gd" id="1_u1oey"]
[ext_resource type="PackedScene" uid="uid://d3rc247u6y0xf" path="res://Prefabs/player.tscn" id="2_6kaii"]
[ext_resource type="Script" path="res://addons/godot-xr-tools/xr/start_xr.gd" id="2_b8t28"]
[ext_resource type="Texture2D" uid="uid://b4x6cnvgkioss" path="res://Textures/Light/texture_08.png" id="3_s52m4"]
[ext_resource type="Texture2D" uid="uid://dt3d3hsb5fp3h" path="res://Textures/Dark/texture_02.png" id="4_3q4nr"]
[ext_resource type="Texture2D" uid="uid://duomwfluu5fux" path="res://Textures/Light/texture_13.png" id="5_7h3yp"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_jog0t"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_t652t"]
sky_material = SubResource("ProceduralSkyMaterial_jog0t")

[sub_resource type="Environment" id="Environment_1n0xn"]
background_mode = 2
sky = SubResource("Sky_t652t")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jwsqo"]
albedo_texture = ExtResource("3_s52m4")
uv1_scale = Vector3(5, 5, 5)

[sub_resource type="PlaneMesh" id="PlaneMesh_2ioww"]
size = Vector2(1, 1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_mrlax"]
points = PackedVector3Array(0.507937, 0.00793651, 0.507937, -0.507937, -0.00793651, -0.507937, -0.507937, 0.00793651, -0.507937, 0.507937, -0.00793651, -0.507937, -0.507937, -0.00793651, 0.507937, -0.507937, 0.00793651, 0.507937, 0.507937, 0.00793651, -0.507937, 0.507937, -0.00793651, 0.507937)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lx6vg"]
albedo_texture = ExtResource("3_s52m4")
uv1_scale = Vector3(5, 5, 5)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_la350"]
points = PackedVector3Array(0.507937, 0.00793651, 0.507937, -0.507937, -0.00793651, -0.507937, -0.507937, 0.00793651, -0.507937, 0.507937, -0.00793651, -0.507937, -0.507937, -0.00793651, 0.507937, -0.507937, 0.00793651, 0.507937, 0.507937, 0.00793651, -0.507937, 0.507937, -0.00793651, 0.507937)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_q7rj4"]
points = PackedVector3Array(0.507937, 0.00793651, 0.507937, -0.507937, -0.00793651, -0.507937, -0.507937, 0.00793651, -0.507937, 0.507937, -0.00793651, -0.507937, -0.507937, -0.00793651, 0.507937, -0.507937, 0.00793651, 0.507937, 0.507937, 0.00793651, -0.507937, 0.507937, -0.00793651, 0.507937)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_l5ax5"]
points = PackedVector3Array(0.507937, 0.00793651, 0.507937, -0.507937, -0.00793651, -0.507937, -0.507937, 0.00793651, -0.507937, 0.507937, -0.00793651, -0.507937, -0.507937, -0.00793651, 0.507937, -0.507937, 0.00793651, 0.507937, 0.507937, 0.00793651, -0.507937, 0.507937, -0.00793651, 0.507937)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_v7iff"]
points = PackedVector3Array(0.507937, 0.00793651, 0.507937, -0.507937, -0.00793651, -0.507937, -0.507937, 0.00793651, -0.507937, 0.507937, -0.00793651, -0.507937, -0.507937, -0.00793651, 0.507937, -0.507937, 0.00793651, 0.507937, 0.507937, 0.00793651, -0.507937, 0.507937, -0.00793651, 0.507937)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_kqdch"]
points = PackedVector3Array(0.507937, 0.00793651, 0.507937, -0.507937, -0.00793651, -0.507937, -0.507937, 0.00793651, -0.507937, 0.507937, -0.00793651, -0.507937, -0.507937, -0.00793651, 0.507937, -0.507937, 0.00793651, 0.507937, 0.507937, 0.00793651, -0.507937, 0.507937, -0.00793651, 0.507937)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cb03x"]
albedo_texture = ExtResource("4_3q4nr")
uv1_scale = Vector3(2, 2, 2)
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_djjwy"]
size = Vector3(2.676, 1, 0.75)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_qbxh3"]
points = PackedVector3Array(1, 0.5, 0.375, 1, 0.5, -0.375, -1, 0.5, 0.375, 1, -0.5, 0.375, 1, -0.5, -0.375, -1, 0.5, -0.375, -1, -0.5, 0.375, -1, -0.5, -0.375)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cu8jh"]
albedo_texture = ExtResource("5_7h3yp")
uv1_scale = Vector3(10, 10, 10)
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_df1bd"]
size = Vector3(0.2, 0.05, 0.2)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_fdwoe"]
data = PackedVector3Array(-0.1, 0.025, 0.1, 0.1, 0.025, 0.1, -0.1, -0.025, 0.1, 0.1, 0.025, 0.1, 0.1, -0.025, 0.1, -0.1, -0.025, 0.1, 0.1, 0.025, -0.1, -0.1, 0.025, -0.1, 0.1, -0.025, -0.1, -0.1, 0.025, -0.1, -0.1, -0.025, -0.1, 0.1, -0.025, -0.1, 0.1, 0.025, 0.1, 0.1, 0.025, -0.1, 0.1, -0.025, 0.1, 0.1, 0.025, -0.1, 0.1, -0.025, -0.1, 0.1, -0.025, 0.1, -0.1, 0.025, -0.1, -0.1, 0.025, 0.1, -0.1, -0.025, -0.1, -0.1, 0.025, 0.1, -0.1, -0.025, 0.1, -0.1, -0.025, -0.1, 0.1, 0.025, 0.1, -0.1, 0.025, 0.1, 0.1, 0.025, -0.1, -0.1, 0.025, 0.1, -0.1, 0.025, -0.1, 0.1, 0.025, -0.1, -0.1, -0.025, 0.1, 0.1, -0.025, 0.1, -0.1, -0.025, -0.1, 0.1, -0.025, 0.1, 0.1, -0.025, -0.1, -0.1, -0.025, -0.1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_pwtln"]
data = PackedVector3Array(-0.1, 0.025, 0.1, 0.1, 0.025, 0.1, -0.1, -0.025, 0.1, 0.1, 0.025, 0.1, 0.1, -0.025, 0.1, -0.1, -0.025, 0.1, 0.1, 0.025, -0.1, -0.1, 0.025, -0.1, 0.1, -0.025, -0.1, -0.1, 0.025, -0.1, -0.1, -0.025, -0.1, 0.1, -0.025, -0.1, 0.1, 0.025, 0.1, 0.1, 0.025, -0.1, 0.1, -0.025, 0.1, 0.1, 0.025, -0.1, 0.1, -0.025, -0.1, 0.1, -0.025, 0.1, -0.1, 0.025, -0.1, -0.1, 0.025, 0.1, -0.1, -0.025, -0.1, -0.1, 0.025, 0.1, -0.1, -0.025, 0.1, -0.1, -0.025, -0.1, 0.1, 0.025, 0.1, -0.1, 0.025, 0.1, 0.1, 0.025, -0.1, -0.1, 0.025, 0.1, -0.1, 0.025, -0.1, 0.1, 0.025, -0.1, -0.1, -0.025, 0.1, 0.1, -0.025, 0.1, -0.1, -0.025, -0.1, 0.1, -0.025, 0.1, 0.1, -0.025, -0.1, -0.1, -0.025, -0.1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_exy0o"]
data = PackedVector3Array(-0.1, 0.025, 0.1, 0.1, 0.025, 0.1, -0.1, -0.025, 0.1, 0.1, 0.025, 0.1, 0.1, -0.025, 0.1, -0.1, -0.025, 0.1, 0.1, 0.025, -0.1, -0.1, 0.025, -0.1, 0.1, -0.025, -0.1, -0.1, 0.025, -0.1, -0.1, -0.025, -0.1, 0.1, -0.025, -0.1, 0.1, 0.025, 0.1, 0.1, 0.025, -0.1, 0.1, -0.025, 0.1, 0.1, 0.025, -0.1, 0.1, -0.025, -0.1, 0.1, -0.025, 0.1, -0.1, 0.025, -0.1, -0.1, 0.025, 0.1, -0.1, -0.025, -0.1, -0.1, 0.025, 0.1, -0.1, -0.025, 0.1, -0.1, -0.025, -0.1, 0.1, 0.025, 0.1, -0.1, 0.025, 0.1, 0.1, 0.025, -0.1, -0.1, 0.025, 0.1, -0.1, 0.025, -0.1, 0.1, 0.025, -0.1, -0.1, -0.025, 0.1, 0.1, -0.025, 0.1, -0.1, -0.025, -0.1, 0.1, -0.025, 0.1, 0.1, -0.025, -0.1, -0.1, -0.025, -0.1)

[sub_resource type="BoxMesh" id="BoxMesh_j6yj5"]
size = Vector3(2, 1, 0.75)

[sub_resource type="BoxMesh" id="BoxMesh_1q3k1"]
size = Vector3(2, 1, 0.75)

[node name="MainRoom" type="Node3D" node_paths=PackedStringArray("player")]
script = ExtResource("1_u1oey")
player = NodePath("Player")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_1n0xn")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 3.22221, 0)
visible = false
shadow_enabled = true

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 2.67097, 0)
visible = false
light_size = 0.708
spot_range = 3.69756
spot_angle = 40.7512

[node name="XRToolsStartXR" type="Node" parent="."]
script = ExtResource("2_b8t28")

[node name="Player" parent="." instance=ExtResource("2_6kaii")]

[node name="Level" type="Node3D" parent="."]

[node name="Room" type="Node3D" parent="Level"]

[node name="Floor" type="MeshInstance3D" parent="Level/Room"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_jwsqo")
mesh = SubResource("PlaneMesh_2ioww")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Level/Room/Floor"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Room/Floor/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_mrlax")

[node name="Ceiling" type="MeshInstance3D" parent="Level/Room"]
transform = Transform3D(-5, 4.37114e-07, 0, -4.37114e-07, -5, 0, 0, 0, 5, 0, 3.5, 0)
material_override = SubResource("StandardMaterial3D_lx6vg")
mesh = SubResource("PlaneMesh_2ioww")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Level/Room/Ceiling"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Room/Ceiling/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_la350")

[node name="WallN" type="MeshInstance3D" parent="Level/Room"]
transform = Transform3D(5, 0, 0, 0, -2.18557e-07, -5, 0, 5, -2.18557e-07, 0, 1, -2.5)
material_override = SubResource("StandardMaterial3D_lx6vg")
mesh = SubResource("PlaneMesh_2ioww")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Level/Room/WallN"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Room/WallN/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_q7rj4")

[node name="WallS" type="MeshInstance3D" parent="Level/Room"]
transform = Transform3D(-5, -7.54979e-07, 3.30012e-14, 0, -2.18557e-07, -5, 7.54979e-07, -5, 2.18557e-07, 0, 1, 2.5)
material_override = SubResource("StandardMaterial3D_lx6vg")
mesh = SubResource("PlaneMesh_2ioww")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Level/Room/WallS"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Room/WallS/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_l5ax5")

[node name="WallW" type="MeshInstance3D" parent="Level/Room"]
transform = Transform3D(-2.18557e-07, 5, -2.18557e-07, 0, -2.18557e-07, -5, -5, -2.18557e-07, 9.55343e-15, -2.5, 1, 0)
material_override = SubResource("StandardMaterial3D_lx6vg")
mesh = SubResource("PlaneMesh_2ioww")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Level/Room/WallW"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Room/WallW/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_v7iff")

[node name="WallE" type="MeshInstance3D" parent="Level/Room"]
transform = Transform3D(-2.18557e-07, -5, 2.18557e-07, 0, -2.18557e-07, -5, 5, -2.18557e-07, 9.55343e-15, 2.5, 1, 0)
material_override = SubResource("StandardMaterial3D_lx6vg")
mesh = SubResource("PlaneMesh_2ioww")
skeleton = NodePath("../../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Level/Room/WallE"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Room/WallE/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_kqdch")

[node name="Table" type="StaticBody3D" parent="Level"]
transform = Transform3D(1.03838, 0, 0, 0, 1.03838, 0, 0, 0, 1.03838, 0, 0.2, -0.7)
visible = false

[node name="Table" type="MeshInstance3D" parent="Level/Table"]
material_override = SubResource("StandardMaterial3D_cb03x")
mesh = SubResource("BoxMesh_djjwy")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Table"]
shape = SubResource("ConvexPolygonShape3D_qbxh3")

[node name="Platform" type="StaticBody3D" parent="Level/Table"]
transform = Transform3D(0.963039, 0, 0, 0, 0.963039, 0, 0, 0, 0.963039, 0, 0.498854, -0.048152)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Level/Table/Platform"]
material_override = SubResource("StandardMaterial3D_cu8jh")
mesh = SubResource("BoxMesh_df1bd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Table/Platform"]
shape = SubResource("ConcavePolygonShape3D_fdwoe")

[node name="Platform2" type="StaticBody3D" parent="Level/Table"]
transform = Transform3D(0.963039, 0, 0, 0, 0.963039, 0, 0, 0, 0.963039, 0.24076, 0.498854, -0.048152)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Level/Table/Platform2"]
material_override = SubResource("StandardMaterial3D_cu8jh")
mesh = SubResource("BoxMesh_df1bd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Table/Platform2"]
shape = SubResource("ConcavePolygonShape3D_pwtln")

[node name="Platform3" type="StaticBody3D" parent="Level/Table"]
transform = Transform3D(0.963039, 0, 0, 0, 0.963039, 0, 0, 0, 0.963039, -0.24076, 0.498854, -0.048152)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Level/Table/Platform3"]
material_override = SubResource("StandardMaterial3D_cu8jh")
mesh = SubResource("BoxMesh_df1bd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Table/Platform3"]
shape = SubResource("ConcavePolygonShape3D_exy0o")

[node name="TableL" type="StaticBody3D" parent="Level"]
transform = Transform3D(-4.5389e-08, 0, 1.03838, 0, 1.03838, 0, -1.03838, 0, -4.5389e-08, -1, 0.2, 0.727999)
visible = false

[node name="Table" type="MeshInstance3D" parent="Level/TableL"]
material_override = SubResource("StandardMaterial3D_cb03x")
mesh = SubResource("BoxMesh_j6yj5")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/TableL"]
shape = SubResource("ConvexPolygonShape3D_qbxh3")

[node name="TableR" type="StaticBody3D" parent="Level"]
transform = Transform3D(-4.5389e-08, 0, 1.03838, 0, 1.03838, 0, -1.03838, 0, -4.5389e-08, 1, 0.2, 0.727999)
visible = false

[node name="Platform" type="StaticBody3D" parent="Level/TableR"]
transform = Transform3D(-4.20957e-08, 0, -0.963039, 0, 0.963039, 0, 0.963039, 0, -4.20957e-08, 0.75, 0.5, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Level/TableR/Platform"]
material_override = SubResource("StandardMaterial3D_cu8jh")
mesh = SubResource("BoxMesh_df1bd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/TableR/Platform"]
shape = SubResource("ConcavePolygonShape3D_pwtln")

[node name="Platform2" type="StaticBody3D" parent="Level/TableR"]
transform = Transform3D(-4.20957e-08, 0, -0.963039, 0, 0.963039, 0, 0.963039, 0, -4.20957e-08, 0.5, 0.5, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Level/TableR/Platform2"]
material_override = SubResource("StandardMaterial3D_cu8jh")
mesh = SubResource("BoxMesh_df1bd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/TableR/Platform2"]
shape = SubResource("ConcavePolygonShape3D_pwtln")

[node name="Platform3" type="StaticBody3D" parent="Level/TableR"]
transform = Transform3D(-4.20957e-08, 0, -0.963039, 0, 0.963039, 0, 0.963039, 0, -4.20957e-08, 0.25, 0.5, 0)
visible = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="Level/TableR/Platform3"]
material_override = SubResource("StandardMaterial3D_cu8jh")
mesh = SubResource("BoxMesh_df1bd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/TableR/Platform3"]
shape = SubResource("ConcavePolygonShape3D_pwtln")

[node name="Table" type="MeshInstance3D" parent="Level/TableR"]
material_override = SubResource("StandardMaterial3D_cb03x")
mesh = SubResource("BoxMesh_1q3k1")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/TableR"]
shape = SubResource("ConvexPolygonShape3D_qbxh3")
